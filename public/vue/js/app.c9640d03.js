(function(t){function a(a){for(var i,r,c=a[0],s=a[1],l=a[2],u=0,d=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);p&&p(a);while(d.length)d.shift()();return o.push.apply(o,l||[]),e()}function e(){for(var t,a=0;a<o.length;a++){for(var e=o[a],i=!0,c=1;c<e.length;c++){var s=e[c];0!==n[s]&&(i=!1)}i&&(o.splice(a--,1),t=r(r.s=e[0]))}return t}var i={},n={app:0},o=[];function r(a){if(i[a])return i[a].exports;var e=i[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=i,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var i in t)r.d(e,i,function(a){return t[a]}.bind(null,i));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=a,c=c.slice();for(var l=0;l<c.length;l++)a(c[l]);var p=s;o.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"45e5":function(t,a,e){},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var i=e("2b0e"),n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-main",[e("v-app",{attrs:{"data-app":""}},[e("Dashboard")],1)],1)},o=[],r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"entire-div"},[e("div",{staticClass:"header"},[e("img",{attrs:{src:t.Logo}})]),t._m(0),e("div",{staticClass:"form"},[e("div",{staticClass:"box-form"},[t._m(1),e("br"),e("select",{directives:[{name:"model",rawName:"v-model",value:t.application.location_id,expression:"application.location_id"}],staticClass:"select-form",attrs:{name:"location"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.application,"location_id",a.target.multiple?e:e[0])}}},t._l(t.locations,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0),e("br")]),e("div",{staticClass:"box-form"},[t._m(2),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.application.citizen.cpf,expression:"application.citizen.cpf"},{name:"mask",rawName:"v-mask",value:"###########",expression:"'###########'"}],attrs:{type:"number",name:"cpf"},domProps:{value:t.application.citizen.cpf},on:{input:function(a){a.target.composing||t.$set(t.application.citizen,"cpf",a.target.value)}}}),e("br")]),e("div",{staticClass:"box-form"},[e("label",{attrs:{for:"cns"}},[t._v("CNS do cidadão (somente números)")]),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.application.citizen.cns,expression:"application.citizen.cns"},{name:"mask",rawName:"v-mask",value:"XXXXXXXXXXXXXXX",expression:"'XXXXXXXXXXXXXXX'"}],attrs:{type:"number",name:"cns"},domProps:{value:t.application.citizen.cns},on:{input:function(a){a.target.composing||t.$set(t.application.citizen,"cns",a.target.value)}}}),e("br")]),e("div",{staticClass:"box-form"},[t._m(3),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.application.citizen.name,expression:"application.citizen.name"},{name:"mask",rawName:"v-mask",value:"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",expression:"'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'"}],attrs:{type:"text",name:"nome"},domProps:{value:t.application.citizen.name},on:{input:function(a){a.target.composing||t.$set(t.application.citizen,"name",a.target.value)}}}),e("br")]),e("div",{staticClass:"box-form"},[t._m(4),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.application.citizen.birthday,expression:"application.citizen.birthday"}],attrs:{type:"date",name:"bithday"},domProps:{value:t.application.citizen.birthday},on:{input:function(a){a.target.composing||t.$set(t.application.citizen,"birthday",a.target.value)}}}),e("br")]),e("div",{staticClass:"box-form"},[t._m(5),t._v(" "),e("br"),e("select",{directives:[{name:"model",rawName:"v-model",value:t.application.lot_id,expression:"application.lot_id"}],staticClass:"select-form",attrs:{name:"lot"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.application,"lot_id",a.target.multiple?e:e[0])}}},t._l(t.lots,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0),e("br")]),e("div",{staticClass:"box-form"},[t._m(6),e("br"),e("select",{directives:[{name:"model",rawName:"v-model",value:t.application.vaccinator_id,expression:"application.vaccinator_id"}],staticClass:"select-form",attrs:{name:"vaccinator"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.application,"vaccinator_id",a.target.multiple?e:e[0])}}},t._l(t.vaccinators,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0),e("br")]),e("div",{staticClass:"box-form"},[t._m(7),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.application.application_date,expression:"application.application_date"}],attrs:{type:"date",name:"dt_vacinacao"},domProps:{value:t.application.application_date},on:{input:function(a){a.target.composing||t.$set(t.application,"application_date",a.target.value)}}}),e("br")]),e("div",{staticClass:"box-form"},[t._m(8),e("br"),e("select",{directives:[{name:"model",rawName:"v-model",value:t.application.category_id,expression:"application.category_id"}],staticClass:"select-form",attrs:{name:"grupo_prioritario"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.application,"category_id",a.target.multiple?e:e[0])},function(){return t.fetchServicegroups(t.application.category_id)}]}},t._l(t.categories,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0),e("br")]),e("div",{staticClass:"box-form"},[t._m(9),e("br"),e("select",{directives:[{name:"model",rawName:"v-model",value:t.application.servicegroup_id,expression:"application.servicegroup_id"}],staticClass:"select-form",attrs:{name:"grupo_atendimento"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.application,"servicegroup_id",a.target.multiple?e:e[0])}}},t._l(t.servicegroups,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),0),e("br")]),e("br"),e("div",{staticStyle:{"margin-bottom":"1.5rem"}},[e("button",{staticClass:"button save",on:{click:function(a){return a.preventDefault(),t.saveApplication(a)}}},[t._v(" SALVAR ")]),e("br"),t.errors.length?e("div",{staticClass:"validation-errors"},[e("b",[t._v("Por favor, corrija o(s) seguinte(s) erro(s):")]),e("ol",t._l(t.errors,(function(a,i){return e("li",{key:i},[t._v(t._s(a))])})),0)]):t._e(),e("div",{staticClass:"message"},[t._v(" "+t._s(t.message)+" ")])])]),t._m(10)])},c=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"text-header"},[e("p",[t._v("Vacinação COVID-19, SEMSA MANAUS")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"location"}},[t._v("Sala de vacina (local) "),e("span",[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"cpf"}},[t._v("CPF do cidadão (somente números) "),e("span",[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"nome"}},[t._v("Nome do cidadão "),e("span",[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"dt_vacinacao"}},[t._v("Data de nascimento do cidadão "),e("span",[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"lot"}},[t._v("Lote "),e("span",[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"vaccinator"}},[t._v("Vacinador "),e("span",[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"dt_vacinacao"}},[t._v("Data da vacinação "),e("span",[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"grupo_prioriario"}},[t._v("Grupo prioritário "),e("span",[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"grupo_atendimento"}},[t._v("Grupo de atendimento "),e("span",[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"footer"},[e("div",{staticClass:"footer-container"},[e("div",{staticClass:"primeira-secao"},[e("p",{staticClass:"footer-text-header"},[t._v("Endereço")]),e("p",[t._v(" Avenida Mário Ypiranga Monteiro, 1695 - Adrianópolis Cep: 69057-001 ")])]),e("div",{staticClass:"segunda-secao"},[e("p",{staticClass:"footer-text-header"},[t._v("Link")]),e("p",[e("a",{attrs:{href:"https://semsa.manaus.am.gov.br/"}},[t._v("Secretaria Municipal de Saúde de Manaus")])]),e("p",[e("a",{attrs:{href:"http://www.manaus.am.gov.br/"}},[t._v("Prefeitura de Manaus")])])])]),e("div",{staticClass:"copyright"},[e("p",[t._v(" © 2021 - Secretaria Municipal de Saúde - SEMSA Desenvolvido pelo ")]),e("p",[t._v("Departamento de Tecnologia da Informação - DTI.")])])])}],s=(e("b0c0"),e("bc3a")),l=e.n(s),p=l.a.create({baseURL:"http://localhost:8000/api"});l.a.defaults.withCredentials=!0;var u={get:function(t){return p.get(t)},post:function(t,a){return p.post(t,a)},delete:function(t){return p.delete(t)},put:function(t,a){return p.put(t,a)},getAxiosInstance:function(){return l.a}},d=(e("4d90"),e("3501")),v=function(t){return Object(d["a"])(t)},m=function(){var t=new Date,a=String(t.getDate()).padStart(2,"0"),e=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear();return t=i+"-"+e+"-"+a,t},f=e("8271"),_=e.n(f),h=e("3d20"),X=e.n(h),g={name:"Dashboard",data:function(){return{application:{location_id:"",lot_id:"",category_id:"",servicegroup_id:"",vaccinator_id:"",application_date:m(),dose:1,citizen:{cpf:"",cns:"",name:"",birthday:""}},locations:null,categories:null,servicegroups:null,lots:null,vaccinators:null,message:null,Logo:_.a,errors:[]}},methods:{saveApplication:function(){var t=this;this.isValidData()&&(this.message="Enviando dados...",u.post("/applications",this.application).then((function(){t.message="",t.clearForm(),X.a.fire({icon:"success",title:"Cadastrado com êxito",text:"Os dados registrados com sucesso!",showConfirmButton:!1,timer:1500})})).catch((function(){X.a.fire({icon:"error",title:"Erro ao cadastrar",text:"Ocorreu algum erro. Por favor, tente novamente.",showConfirmButton:!1,timer:2e3})})))},isValidData:function(){this.errors=[];for(var t=[{name:"'sala de vacina'",value:this.application.location_id},{name:"'CPF do cidadão'",value:this.application.citizen.cpf},{name:"'nome do cidadão'",value:this.application.citizen.name},{name:"'data de nascimento do cidadão'",value:this.application.citizen.birthday},{name:"'lote'",value:this.application.lot_id},{name:"'vacinador'",value:this.application.vaccinator_id},{name:"'grupo prioritário'",value:this.application.category_id},{name:"'grupo de atendimento'",value:this.application.servicegroup_id}],a=0,e=t;a<e.length;a++){var i=e[a];i.value||this.errors.push("Preencha o campo ".concat(i.name))}v(this.application.citizen.cpf)||this.errors.push("Informe um número de CPF válido");var n=!this.errors.length;return n},clearForm:function(){this.application.lot_id="",this.application.category_id="",this.application.servicegroup_id="",this.application.citizen.cpf="",this.application.citizen.cns="",this.application.citizen.name="",this.application.citizen.birthday=""},fetchVaccinators:function(){var t=this;u.get("/vaccinators").then((function(a){var e=a.data;t.vaccinators=e.data}))},fetchLocations:function(){var t=this;u.get("/locations").then((function(a){var e=a.data;t.locations=e.data}))},fetchCategories:function(){var t=this;u.get("/categories").then((function(a){var e=a.data;t.categories=e.data}))},fetchServicegroups:function(t){var a=this;u.get("/servicegroups?category_id=".concat(t)).then((function(t){var e=t.data;a.servicegroups=e.data}))},fetchLots:function(){var t=this;u.get("/lots").then((function(a){var e=a.data;t.lots=e.data}))}},created:function(){var t=this,a={email:"imunizaapp@pmm.am.gov.br",password:"teste12"};u.getAxiosInstance().get("http://localhost:8000/sanctum/csrf-cookie").then((function(){u.getAxiosInstance().post("http://localhost:8000/login",a).then((function(){t.fetchVaccinators(),t.fetchLocations(),t.fetchCategories(),t.fetchLots()}))}))}},b=g,y=(e("9fee"),e("2877")),x=Object(y["a"])(b,r,c,!1,null,null,null),C=x.exports,w={name:"App",components:{Dashboard:C},data:function(){return{}}},z=w,P=e("6544"),S=e.n(P),$=e("7496"),A=e("f6c4"),k=Object(y["a"])(z,n,o,!1,null,null,null),E=k.exports;S()(k,{VApp:$["a"],VMain:A["a"]});var O=e("f309");i["a"].use(O["a"]);var N=new O["a"]({}),M=e("b6d0"),D=e("2106"),j=e.n(D),L=e("14ba"),V=e.n(L);i["a"].config.productionTip=!1,i["a"].use(M["a"]),i["a"].use(j.a,l.a),i["a"].use(V.a),new i["a"]({vuetify:N,render:function(t){return t(E)}}).$mount("#app")},8271:function(t,a,e){t.exports=e.p+"img/fullbrasao.2718f8ba.png"},"9fee":function(t,a,e){"use strict";e("45e5")}});
//# sourceMappingURL=app.c9640d03.js.map